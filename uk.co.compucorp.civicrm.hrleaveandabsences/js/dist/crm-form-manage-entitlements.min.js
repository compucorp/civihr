define("leave-absences/crm/includes/hrleaveandabsences-init",[],function(){return CRM.HRLeaveAndAbsencesApp=CRM.HRLeaveAndAbsencesApp||{},CRM.HRLeaveAndAbsencesApp.Form=CRM.HRLeaveAndAbsencesApp.Form||{},CRM.HRLeaveAndAbsencesApp.List=CRM.HRLeaveAndAbsencesApp.List||{},CRM.HRLeaveAndAbsencesApp}),define("inputmask.dependencyLib",[],function(){return CRM.$}),function(e){"function"==typeof define&&define.amd?define("inputmask",["inputmask.dependencyLib"],e):"object"==typeof exports?module.exports=e(require("./inputmask.dependencyLib.jquery")):e(window.dependencyLib||jQuery)}(function(e){function t(i,n){if(!(this instanceof t))return new t(i,n);e.isPlainObject(i)?n=i:(n=n||{},n.alias=i),this.el=void 0,this.opts=e.extend(!0,{},this.defaults,n),this.noMasksCache=n&&void 0!==n.definitions,this.userOptions=n||{},this.events={},o(this.opts.alias,n,this.opts)}function i(e){var t=document.createElement("input"),i="on"+e,n=i in t;return n||(t.setAttribute(i,"return;"),n="function"==typeof t[i]),t=null,n}function n(t,i){var n=t.getAttribute("type"),o="INPUT"===t.tagName&&-1!==e.inArray(n,i.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!o&&"INPUT"===t.tagName){var a=document.createElement("input");a.setAttribute("type",n),o="text"===a.type,a=null}return o}function o(t,i,n){var a=n.aliases[t];return a?(a.alias&&o(a.alias,void 0,n),e.extend(!0,n,a),e.extend(!0,n,i),!0):(null===n.mask&&(n.mask=t),!1)}function a(t,i,n){function a(e,i){null!==(i=void 0!==i?i:t.getAttribute("data-inputmask-"+e))&&("string"==typeof i&&(0===e.indexOf("on")?i=window[i]:"false"===i?i=!1:"true"===i&&(i=!0)),n[e]=i)}var r,s,l,c,u=t.getAttribute("data-inputmask");if(u&&""!==u&&(u=u.replace(new RegExp("'","g"),'"'),s=JSON.parse("{"+u+"}")),s){l=void 0;for(c in s)if("alias"===c.toLowerCase()){l=s[c];break}}a("alias",l),n.alias&&o(n.alias,n,i);for(r in i){if(s){l=void 0;for(c in s)if(c.toLowerCase()===r.toLowerCase()){l=s[c];break}}a(r,l)}return e.extend(!0,i,n),i}function r(i,n){function o(t){function n(e,t,i,n){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}function o(t,n,o){var a=i.definitions[n];o=void 0!==o?o:t.matches.length;var r=t.matches[o-1];if(a&&!g){a.placeholder=e.isFunction(a.placeholder)?a.placeholder(i):a.placeholder;for(var s=a.prevalidator,l=s?s.length:0,c=1;c<a.cardinality;c++){var u=l>=c?s[c-1]:[],d=u.validator,p=u.cardinality;t.matches.splice(o++,0,{fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:p||1,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==(a.definitionSymbol||n),casing:a.casing,def:a.definitionSymbol||n,placeholder:a.placeholder,mask:n}),r=t.matches[o-1]}t.matches.splice(o++,0,{fn:a.validator?"string"==typeof a.validator?new RegExp(a.validator):new function(){this.test=a.validator}:new RegExp("."),cardinality:a.cardinality,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==(a.definitionSymbol||n),casing:a.casing,def:a.definitionSymbol||n,placeholder:a.placeholder,mask:n})}else t.matches.splice(o++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==n,casing:null,def:i.staticDefinitionSymbol||n,placeholder:void 0!==i.staticDefinitionSymbol?n:void 0,mask:n}),g=!1}function a(e,t){e.isGroup&&(e.isGroup=!1,o(e,i.groupmarker.start,0),!0!==t&&o(e,i.groupmarker.end))}function r(e,t,i,n){t.matches.length>0&&(void 0===n||n)&&(i=t.matches[t.matches.length-1],a(i)),o(t,e)}function s(){if(b.length>0){if(p=b[b.length-1],r(u,p,m,!p.isAlternator),p.isAlternator){f=b.pop();for(var e=0;e<f.matches.length;e++)f.matches[e].isGroup=!1;b.length>0?(p=b[b.length-1],p.matches.push(f)):k.matches.push(f)}}else r(u,k,m)}function l(e){e.matches=e.matches.reverse();for(var t in e.matches){var n=parseInt(t);if(e.matches[t].isQuantifier&&e.matches[n+1]&&e.matches[n+1].isGroup){var o=e.matches[t];e.matches.splice(t,1),e.matches.splice(n+1,0,o)}void 0!==e.matches[t].matches?e.matches[t]=l(e.matches[t]):e.matches[t]=function(e){return e===i.optionalmarker.start?e=i.optionalmarker.end:e===i.optionalmarker.end?e=i.optionalmarker.start:e===i.groupmarker.start?e=i.groupmarker.end:e===i.groupmarker.end&&(e=i.groupmarker.start),e}(e.matches[t])}return e}for(var c,u,d,p,f,m,h,v=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,g=!1,k=new n,b=[],y=[];c=v.exec(t);)if(u=c[0],g)s();else switch(u.charAt(0)){case i.escapeChar:g=!0;break;case i.optionalmarker.end:case i.groupmarker.end:if(void 0!==(d=b.pop()))if(b.length>0){if(p=b[b.length-1],p.matches.push(d),p.isAlternator){f=b.pop();for(var x=0;x<f.matches.length;x++)f.matches[x].isGroup=!1;b.length>0?(p=b[b.length-1],p.matches.push(f)):k.matches.push(f)}}else k.matches.push(d);else s();break;case i.optionalmarker.start:b.push(new n(!1,!0));break;case i.groupmarker.start:b.push(new n(!0));break;case i.quantifiermarker.start:var _=new n(!1,!1,!0);u=u.replace(/[{}]/g,"");var P=u.split(","),E=isNaN(P[0])?P[0]:parseInt(P[0]),C=1===P.length?E:isNaN(P[1])?P[1]:parseInt(P[1]);if("*"!==C&&"+"!==C||(E="*"===C?0:1),_.quantifier={min:E,max:C},b.length>0){var S=b[b.length-1].matches;c=S.pop(),c.isGroup||(h=new n(!0),h.matches.push(c),c=h),S.push(c),S.push(_)}else c=k.matches.pop(),c.isGroup||(h=new n(!0),h.matches.push(c),c=h),k.matches.push(c),k.matches.push(_);break;case i.alternatormarker:b.length>0?(p=b[b.length-1],m=p.matches.pop()):m=k.matches.pop(),m.isAlternator?b.push(m):(f=new n(!1,!1,!1,!0),f.matches.push(m),b.push(f));break;default:s()}for(;b.length>0;)d=b.pop(),a(d,!0),k.matches.push(d);return k.matches.length>0&&(m=k.matches[k.matches.length-1],a(m),y.push(k)),i.numericInput&&l(y[0]),y}function a(a,r){if(null!==a&&""!==a){if(1===a.length&&!1===i.greedy&&0!==i.repeat&&(i.placeholder=""),i.repeat>0||"*"===i.repeat||"+"===i.repeat){var s="*"===i.repeat?0:"+"===i.repeat?1:i.repeat;a=i.groupmarker.start+a+i.groupmarker.end+i.quantifiermarker.start+s+","+i.repeat+i.quantifiermarker.end}var l;return void 0===t.prototype.masksCache[a]||!0===n?(l={mask:a,maskToken:o(a),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:r},!0!==n&&(t.prototype.masksCache[i.numericInput?a.split("").reverse().join(""):a]=l,l=e.extend(!0,{},t.prototype.masksCache[i.numericInput?a.split("").reverse().join(""):a]))):l=e.extend(!0,{},t.prototype.masksCache[i.numericInput?a.split("").reverse().join(""):a]),l}}function r(e){return e=e.toString()}var s;if(e.isFunction(i.mask)&&(i.mask=i.mask(i)),e.isArray(i.mask)){if(i.mask.length>1){i.keepStatic=null===i.keepStatic||i.keepStatic;var l="(";return e.each(i.numericInput?i.mask.reverse():i.mask,function(t,i){l.length>1&&(l+=")|("),void 0===i.mask||e.isFunction(i.mask)?l+=r(i):l+=r(i.mask)}),l+=")",a(l,i.mask)}i.mask=i.mask.pop()}return i.mask&&(s=void 0===i.mask.mask||e.isFunction(i.mask.mask)?a(r(i.mask),i.mask):a(r(i.mask.mask),i.mask)),s}function s(o,a,r){function l(e,t,i){t=t||0;var n,o,a,s=[],l=0,c=m();-1===(ae=void 0!==ne?ne.maxLength:void 0)&&(ae=void 0);do{if(!0===e&&p().validPositions[l]){var u=p().validPositions[l];o=u.match,n=u.locator.slice(),s.push(!0===i?u.input:D(l,o))}else a=g(l,n,l-1),o=a.match,n=a.locator.slice(),(!1===r.jitMasking||l<c||isFinite(r.jitMasking)&&r.jitMasking>l)&&s.push(D(l,o));l++}while((void 0===ae||l<ae)&&(null!==o.fn||""!==o.def)||t>l);return""===s[s.length-1]&&s.pop(),p().maskLength=l+1,s}function p(){return a}function f(e){var t=p();t.buffer=void 0,!0!==e&&(t.tests={},t._buffer=void 0,t.validPositions={},t.p=0)}function m(e,t,i){var n=-1,o=-1,a=i||p().validPositions;void 0===e&&(e=-1);for(var r in a){var s=parseInt(r);a[s]&&(t||null!==a[s].match.fn)&&(s<=e&&(n=s),s>=e&&(o=s))}return-1!==n&&e-n>1||o<e?n:o}function h(t,i,n,o){if(o||r.insertMode&&void 0!==p().validPositions[t]&&void 0===n){var a,s=e.extend(!0,{},p().validPositions),l=m();for(a=t;a<=l;a++)delete p().validPositions[a];p().validPositions[t]=i;var c,u=!0,d=p().validPositions,h=!1;for(a=c=t;a<=l;a++){var v=s[a];if(void 0!==v)for(var g=c,k=-1;g<p().maskLength&&(null==v.match.fn&&d[a]&&(!0===d[a].match.optionalQuantifier||!0===d[a].match.optionality)||null!=v.match.fn);){if(null===v.match.fn||!r.keepStatic&&d[a]&&(void 0!==d[a+1]&&x(a+1,d[a].locator.slice(),a).length>1||void 0!==d[a].alternation)?g++:g=O(c),!1===h&&s[g]&&s[g].match.def===v.match.def){p().validPositions[g]=e.extend(!0,{},s[g]),p().validPositions[g].input=v.input,c=g,u=!0;break}if(b(g,v.match.def)){var y=A(g,v.input,!0,!0);if(u=!1!==y,c=y.caret||y.insert?m():g,h=!0,u)break}else{if(u=null==v.match.fn,k===g)break;k=g}}if(!u)break}if(!u)return p().validPositions=e.extend(!0,{},s),f(!0),!1}else p().validPositions[t]=i;return f(!0),!0}function v(t,i,n,o){var a,s=t,l=e.extend(!0,{},p().validPositions),c=!1;for(p().p=t,a=i-1;a>=s;a--)void 0!==p().validPositions[a]&&(!0===n||!function(e){var t=p().validPositions[e];if(void 0!==t&&null===t.match.fn){var i=p().validPositions[e-1],n=p().validPositions[e+1];return void 0!==i&&void 0!==n}return!1}(a)&&!1!==r.canClearPosition(p(),a,m(),o,r))&&delete p().validPositions[a];for(f(!0),a=s+1;a<=m();){for(;void 0!==p().validPositions[s];)s++;var u=p().validPositions[s];if(a<s&&(a=s+1),void 0===p().validPositions[a]&&w(a)||void 0!==u)a++;else{var d=g(a);!1===c&&l[s]&&l[s].match.def===d.match.def?(p().validPositions[s]=e.extend(!0,{},l[s]),p().validPositions[s].input=d.input,delete p().validPositions[a],a++):b(s,d.match.def)?!1!==A(s,d.input||D(a),!0)&&(delete p().validPositions[a],a++,c=!0):w(a)||(a++,s--),s++}}f(!0)}function g(e,t,i){var n=p().validPositions[e];if(void 0===n)for(var o=x(e,t?t.slice():t,i),a=m(),s=p().validPositions[a]||x(0)[0],l=void 0!==s.alternation?s.locator[s.alternation].toString().split(","):[],c=0;c<o.length&&(n=o[c],!(n.match&&(r.greedy&&!0!==n.match.optionalQuantifier||(!1===n.match.optionality||!1===n.match.newBlockMarker)&&!0!==n.match.optionalQuantifier)&&(void 0===s.alternation||s.alternation!==n.alternation||void 0!==n.locator[s.alternation]&&S(n.locator[s.alternation].toString().split(","),l))));c++);return n}function k(e){return p().validPositions[e]?p().validPositions[e].match:x(e)[0].match}function b(e,t){for(var i=!1,n=x(e),o=0;o<n.length;o++)if(n[o].match&&n[o].match.def===t){i=!0;break}return i}function y(t,i){var n,o;return(p().tests[t]||p().validPositions[t])&&e.each(p().tests[t]||[p().validPositions[t]],function(e,t){var a=t.alternation?t.locator[t.alternation].toString().indexOf(i):-1;(void 0===o||a<o)&&-1!==a&&(n=t,o=a)}),n}function x(t,i,n){function o(i,n,r,l){function f(r,l,m){function h(t,i){var n=0===e.inArray(t,i.matches);return n||e.each(i.matches,function(e,o){if(!0===o.isQuantifier&&(n=h(t,i.matches[e-1])))return!1}),n}if(s>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+p().mask;if(s===t&&void 0===r.matches)return c.push({match:r,locator:l.reverse(),cd:d}),!0;if(void 0!==r.matches){if(r.isGroup&&m!==r){if(r=f(i.matches[e.inArray(r,i.matches)+1],l))return!0}else if(r.isOptional){var v=r;if(r=o(r,n,l,m)){if(a=c[c.length-1].match,!h(a,v))return!0;u=!0,s=t}}else if(r.isAlternator){var g,k=r,b=[],x=c.slice(),_=l.length,P=n.length>0?n.shift():-1;if(-1===P||"string"==typeof P){var E,C=s,S=n.slice(),A=[];if("string"==typeof P)A=P.split(",");else for(E=0;E<k.matches.length;E++)A.push(E);for(var w=0;w<A.length;w++){if(E=parseInt(A[w]),c=[],n=function(e,t){var i=y(e,t);return i?i.locator.slice(i.alternation+1):[]}(s,E),!0!==(r=f(k.matches[E]||i.matches[E],[E].concat(l),m)||r)&&void 0!==r&&A[A.length-1]<k.matches.length){var O=e.inArray(r,i.matches)+1;i.matches.length>O&&(r=f(i.matches[O],[O].concat(l.slice(1,l.length)),m))&&(A.push(O.toString()),e.each(c,function(e,t){t.alternation=l.length-1}))}g=c.slice(),s=C,c=[];for(var R=0;R<S.length;R++)n[R]=S[R];for(var M=0;M<g.length;M++){var F=g[M];F.alternation=F.alternation||_;for(var D=0;D<b.length;D++){var j=b[D];if(F.match.def===j.match.def&&("string"!=typeof P||-1!==e.inArray(F.locator[F.alternation].toString(),A))){F.match.mask===j.match.mask&&(g.splice(M,1),M--),-1===j.locator[F.alternation].toString().indexOf(F.locator[F.alternation])&&(j.locator[F.alternation]=j.locator[F.alternation]+","+F.locator[F.alternation],j.alternation=F.alternation);break}}}b=b.concat(g)}"string"==typeof P&&(b=e.map(b,function(t,i){if(isFinite(i)){var n=t.alternation,o=t.locator[n].toString().split(",");t.locator[n]=void 0,t.alternation=void 0;for(var a=0;a<o.length;a++)-1!==e.inArray(o[a],A)&&(void 0!==t.locator[n]?(t.locator[n]+=",",t.locator[n]+=o[a]):t.locator[n]=parseInt(o[a]),t.alternation=n);if(void 0!==t.locator[n])return t}})),c=x.concat(b),s=t,u=c.length>0}else r=f(k.matches[P]||i.matches[P],[P].concat(l),m);if(r)return!0}else if(r.isQuantifier&&m!==i.matches[e.inArray(r,i.matches)-1])for(var T=r,I=n.length>0?n.shift():0;I<(isNaN(T.quantifier.max)?I+1:T.quantifier.max)&&s<=t;I++){var L=i.matches[e.inArray(T,i.matches)-1];if(r=f(L,[I].concat(l),L)){if(a=c[c.length-1].match,a.optionalQuantifier=I>T.quantifier.min-1,h(a,L)){if(I>T.quantifier.min-1){u=!0,s=t;break}return!0}return!0}}else if(r=o(r,n,l,m))return!0}else s++}for(var m=n.length>0?n.shift():0;m<i.matches.length;m++)if(!0!==i.matches[m].isQuantifier){var h=f(i.matches[m],[m].concat(r),l);if(h&&s===t)return h;if(s>t)break}}var a,r=p().maskToken,s=i?n:0,l=i?i.slice():[0],c=[],u=!1,d=i?i.join(""):"";if(t>-1){if(void 0===i){for(var f,m=t-1;void 0===(f=p().validPositions[m]||p().tests[m])&&m>-1;)m--;void 0!==f&&m>-1&&(l=function(t){var i=[];return e.isArray(t)||(t=[t]),void 0===t[0].alternation?i=t[0].locator.slice():e.each(t,function(e,t){if(""!==t.def)if(0===i.length)i=t.locator.slice();else for(var n=0;n<i.length;n++)t.locator[n]&&-1===i[n].toString().indexOf(t.locator[n])&&(i[n]+=","+t.locator[n])}),i}(f),d=l.join(""),s=m)}if(p().tests[t]&&p().tests[t][0].cd===d)return function(e){return e}(p().tests[t]);for(var h=l.shift();h<r.length;h++){if(o(r[h],l,[h])&&s===t||s>t)break}}return(0===c.length||u)&&c.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[],cd:d}),p().tests[t]=e.extend(!0,[],c),p().tests[t]}function _(){return void 0===p()._buffer&&(p()._buffer=l(!1,1)),p()._buffer}function P(e){if(void 0===p().buffer||!0===e){if(!0===e)for(var t in p().tests)void 0===p().validPositions[t]&&delete p().tests[t];p().buffer=l(!0,m(),!0)}return p().buffer}function E(e,t,i){var n;if(i=i,!0===e)f(),e=0,t=i.length;else for(n=e;n<t;n++)delete p().validPositions[n],delete p().tests[n];for(n=e;n<t;n++)f(!0),i[n]!==r.skipOptionalPartCharacter&&A(n,i[n],!0,!0)}function C(e,i,n){switch(i.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var o=p().validPositions[n-1];e=0===n||o&&o.input===String.fromCharCode(t.keyCode.SPACE)?e.toUpperCase():e.toLowerCase()}return e}function S(t,i){for(var n=r.greedy?i:i.slice(0,1),o=!1,a=0;a<t.length;a++)if(-1!==e.inArray(t[a],n)){o=!0;break}return o}function A(i,n,o,a){function s(e){return se?e.begin-e.end>1||e.begin-e.end==1&&r.insertMode:e.end-e.begin>1||e.end-e.begin==1&&r.insertMode}function l(t,n,o,a){var l=!1;return e.each(x(t),function(c,u){for(var d=u.match,g=n?1:0,k="",b=d.cardinality;b>g;b--)k+=M(t-(b-1));if(n&&(k+=n),P(!0),!1!==(l=null!=d.fn?d.fn.test(k,p(),t,o,r,s(i)):(n===d.def||n===r.skipOptionalPartCharacter)&&""!==d.def&&{c:d.placeholder||d.def,pos:t})){var y=void 0!==l.c?l.c:n;y=y===r.skipOptionalPartCharacter&&null===d.fn?d.placeholder||d.def:y;var x=t,_=P();if(void 0!==l.remove&&(e.isArray(l.remove)||(l.remove=[l.remove]),e.each(l.remove.sort(function(e,t){return t-e}),function(e,t){v(t,t+1,!0)})),void 0!==l.insert&&(e.isArray(l.insert)||(l.insert=[l.insert]),e.each(l.insert.sort(function(e,t){return e-t}),function(e,t){A(t.pos,t.c,!1,a)})),l.refreshFromBuffer){var S=l.refreshFromBuffer;if(o=!0,E(!0===S?S:S.start,S.end,_),void 0===l.pos&&void 0===l.c)return l.pos=m(),!1;if((x=void 0!==l.pos?l.pos:t)!==t)return l=e.extend(l,A(x,y,!0,a)),!1}else if(!0!==l&&void 0!==l.pos&&l.pos!==t&&(x=l.pos,E(t,x,P().slice()),x!==t))return l=e.extend(l,A(x,y,!0)),!1;return(!0===l||void 0!==l.pos||void 0!==l.c)&&(c>0&&f(!0),h(x,e.extend({},u,{input:C(y,d,x)}),a,s(i))||(l=!1),!1)}}),l}o=!0===o;var c=i;void 0!==i.begin&&(c=se&&!s(i)?i.end:i.begin);for(var u=!1,d=e.extend(!0,{},p().validPositions),k=c-1;k>-1&&!p().validPositions[k];k--);var b;for(k++;k<c;k++)void 0===p().validPositions[k]&&(!1===r.jitMasking||r.jitMasking>k)&&((b=g(k)).match.def===r.radixPointDefinitionSymbol||!w(k,!0)||e.inArray(r.radixPoint,P())<k&&b.match.fn&&b.match.fn.test(D(k),p(),k,!1,r))&&l(m(k,!0)+1,b.match.placeholder||(null==b.match.fn?b.match.def:""!==D(k)?D(k):P()[k]),!0,a);if(s(i)&&(V(void 0,t.keyCode.DELETE,i),c=p().p),c<p().maskLength&&(u=l(c,n,o,a),(!o||!0===a)&&!1===u)){var _=p().validPositions[c];if(!_||null!==_.match.fn||_.match.def!==n&&n!==r.skipOptionalPartCharacter){if((r.insertMode||void 0===p().validPositions[O(c)])&&!w(c,!0)){var R=g(c).match;R=R.placeholder||R.def,l(c,R,o,a);for(var F=c+1,j=O(c);F<=j;F++)if(!1!==(u=l(F,n,o,a))){!function(t,i){for(var n=p().validPositions[i],o=n.locator,a=o.length,r=t;r<i;r++)if(void 0===p().validPositions[r]&&!w(r,!0)){var s=x(r),l=s[0],c=-1;e.each(s,function(e,t){for(var i=0;i<a&&void 0!==t.locator[i]&&S(t.locator[i].toString().split(","),o[i].toString().split(","));i++)c<i&&(c=i,l=t)}),h(r,e.extend({},l,{input:l.match.placeholder||l.match.def}),!0)}}(c,F),c=F;break}}}else u={caret:O(c)}}return!1===u&&r.keepStatic&&(u=function(t,i,n,o){for(var a,s,l,c,u,d,h=e.extend(!0,{},p().validPositions),v=e.extend(!0,{},p().tests),k=m();k>=0&&(!(c=p().validPositions[k])||void 0===c.alternation||(a=k,s=p().validPositions[a].alternation,g(a).locator[c.alternation]===c.locator[c.alternation]));k--);if(void 0!==s){a=parseInt(a);for(var b in p().validPositions)if(b=parseInt(b),c=p().validPositions[b],b>=a&&void 0!==c.alternation){var x;0===a?(x=[],e.each(p().tests[a],function(e,t){void 0!==t.locator[s]&&(x=x.concat(t.locator[s].toString().split(",")))})):x=p().validPositions[a].locator[s].toString().split(",");var _=void 0!==c.locator[s]?c.locator[s]:x[0];_.length>0&&(_=_.split(",")[0]);for(var P=0;P<x.length;P++){var E=[],C=0,S=0;if(_<x[P]){for(var w,O,R=b;R>=0;R--)if(void 0!==(w=p().validPositions[R])){var M=y(R,x[P]);p().validPositions[R].match.def!==M.match.def&&(E.push(p().validPositions[R].input),p().validPositions[R]=M,p().validPositions[R].input=D(R),null===p().validPositions[R].match.fn&&S++,w=M),O=w.locator[s],w.locator[s]=parseInt(x[P]);break}if(_!==w.locator[s]){for(u=b+1;u<m(void 0,!0)+1;u++)d=p().validPositions[u],d&&null!=d.match.fn?E.push(d.input):u<t&&C++,delete p().validPositions[u],delete p().tests[u];for(f(!0),r.keepStatic=!r.keepStatic,l=!0;E.length>0;){var F=E.shift();if(F!==r.skipOptionalPartCharacter&&!(l=A(m(void 0,!0)+1,F,!1,o)))break}if(w.alternation=s,w.locator[s]=O,l){var j=m(t)+1;for(u=b+1;u<m()+1;u++)(void 0===(d=p().validPositions[u])||null==d.match.fn)&&u<t&&S++;t+=S-C,l=A(t>j?j:t,i,n,o)}if(r.keepStatic=!r.keepStatic,l)return l;f(),p().validPositions=e.extend(!0,{},h),p().tests=e.extend(!0,{},v)}}}break}}return!1}(c,n,o,a)),!0===u&&(u={pos:c}),e.isFunction(r.postValidation)&&!1!==u&&!o&&!0!==a&&(u=!!r.postValidation(P(!0),u,r)&&u),void 0===u.pos&&(u.pos=c),!1===u&&(f(!0),p().validPositions=e.extend(!0,{},d)),u}function w(e,t){var i;if(t?(i=g(e).match,""===i.def&&(i=k(e))):i=k(e),null!=i.fn)return i.fn;if(!0!==t&&e>-1&&!r.keepStatic&&void 0===p().validPositions[e]){return x(e).length>2}return!1}function O(e,t){var i=p().maskLength;if(e>=i)return i;for(var n=e;++n<i&&(!0===t&&(!0!==k(n).newBlockMarker||!w(n))||!0!==t&&!w(n)&&(!0!==r.nojumps||r.nojumpsThreshold>n)););return n}function R(e,t){var i=e;if(i<=0)return 0;for(;--i>0&&(!0===t&&!0!==k(i).newBlockMarker||!0!==t&&!w(i)););return i}function M(e){return void 0===p().validPositions[e]?D(e):p().validPositions[e].input}function F(t,i,n,o,a){if(o&&e.isFunction(r.onBeforeWrite)){var s=r.onBeforeWrite(o,i,n,r);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;E(!0===l?l:l.start,l.end,s.buffer||i),i=P(!0)}void 0!==n&&(n=void 0!==s.caret?s.caret:n)}}t.inputmask._valueSet(i.join("")),void 0===n||void 0!==o&&"blur"===o.type||I(t,n),!0===a&&(ce=!0,e(t).trigger("input"))}function D(e,t){if(t=t||k(e),void 0!==t.placeholder)return t.placeholder;if(null===t.fn){if(e>-1&&!r.keepStatic&&void 0===p().validPositions[e]){var i,n=x(e),o=[];if(n.length>2)for(var a=0;a<n.length;a++)if(!0!==n[a].match.optionality&&!0!==n[a].match.optionalQuantifier&&(null===n[a].match.fn||void 0===i||!1!==n[a].match.fn.test(i.match.def,p(),e,!0,r))&&(o.push(n[a]),null===n[a].match.fn&&(i=n[a]),o.length>1))return r.placeholder.charAt(e%r.placeholder.length)}return t.def}return r.placeholder.charAt(e%r.placeholder.length)}function j(i,n,o,a){function s(){var e=!1,t=_().slice(d,O(d)).join("").indexOf(u);if(-1!==t&&!w(d)){e=!0;for(var i=_().slice(d,d+t),n=0;n<i.length;n++)if(" "!==i[n]){e=!1;break}}return e}var l,c=a.slice(),u="",d=0;if(f(),p().p=O(-1),!o)if(!0!==r.autoUnmask){var h=_().slice(0,O(-1)).join(""),v=c.join("").match(new RegExp("^"+t.escapeRegex(h),"g"));v&&v.length>0&&(c.splice(0,v.length*h.length),d=O(d))}else d=O(d);e.each(c,function(t,n){if(void 0!==n){var a=new e.Event("keypress");a.which=n.charCodeAt(0),u+=n;var c=m(void 0,!0),h=p().validPositions[c],v=g(c+1,h?h.locator.slice():void 0,c);if(!s()||o||r.autoUnmask){var k=o?t:null==v.match.fn&&v.match.optionality&&c+1<p().p?c+1:p().p;l=U.call(i,a,!0,!1,o,k),d=k+1,u=""}else l=U.call(i,a,!0,!1,!0,c+1);if(!o&&e.isFunction(r.onBeforeWrite)&&(l=r.onBeforeWrite(a,P(),l.forwardPosition,r))&&l.refreshFromBuffer){var b=l.refreshFromBuffer;E(!0===b?b:b.start,b.end,l.buffer),f(!0),l.caret&&(p().p=l.caret)}}}),n&&F(i,P(),document.activeElement===i?O(m(0)):void 0,new e.Event("checkval"))}function T(t){if(t&&void 0===t.inputmask)return t.value;var i=[],n=p().validPositions;for(var o in n)n[o].match&&null!=n[o].match.fn&&i.push(n[o].input);var a=0===i.length?null:(se?i.reverse():i).join("");if(null!==a){var s=(se?P().slice().reverse():P()).join("");e.isFunction(r.onUnMask)&&(a=r.onUnMask(s,a,r)||a)}return a}function I(e,t,i,n){function o(e){if(!0!==n&&se&&"number"==typeof e&&(!r.greedy||""!==r.placeholder)){e=P().join("").length-e}return e}var a;if("number"!=typeof t)return e.setSelectionRange?(t=e.selectionStart,i=e.selectionEnd):window.getSelection?(a=window.getSelection().getRangeAt(0),a.commonAncestorContainer.parentNode!==e&&a.commonAncestorContainer!==e||(t=a.startOffset,i=a.endOffset)):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),t=0-a.duplicate().moveStart("character",-e.inputmask._valueGet().length),i=t+a.text.length),{begin:o(t),end:o(i)};t=o(t),i=o(i),i="number"==typeof i?i:t;var s=parseInt(((e.ownerDocument.defaultView||window).getComputedStyle?(e.ownerDocument.defaultView||window).getComputedStyle(e,null):e.currentStyle).fontSize)*i;if(e.scrollLeft=s>e.scrollWidth?s:0,c||!1!==r.insertMode||t!==i||i++,e.setSelectionRange)e.selectionStart=t,e.selectionEnd=i;else if(window.getSelection){if(a=document.createRange(),void 0===e.firstChild||null===e.firstChild){var l=document.createTextNode("");e.appendChild(l)}a.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),a.setEnd(e.firstChild,i<e.inputmask._valueGet().length?i:e.inputmask._valueGet().length),a.collapse(!0);var u=window.getSelection();u.removeAllRanges(),u.addRange(a)}else e.createTextRange&&(a=e.createTextRange(),a.collapse(!0),a.moveEnd("character",i),a.moveStart("character",t),a.select())}function L(t){var i,n,o=P(),a=o.length,r=m(),s={},l=p().validPositions[r],c=void 0!==l?l.locator.slice():void 0;for(i=r+1;i<o.length;i++)n=g(i,c,i-1),c=n.locator.slice(),s[i]=e.extend(!0,{},n);var u=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(i=a-1;i>r&&(n=s[i],(n.match.optionality||n.match.optionalQuantifier||u&&(u!==s[i].locator[l.alternation]&&null!=n.match.fn||null===n.match.fn&&n.locator[l.alternation]&&S(n.locator[l.alternation].toString().split(","),u.toString().split(","))&&""!==x(i)[0].def))&&o[i]===D(i,n.match));i--)a--;return t?{l:a,def:s[a]?s[a].match:void 0}:a}function N(e){for(var t=L(),i=e.length-1;i>t&&!w(i);i--);return e.splice(t,i+1-t),e}function B(t){if(e.isFunction(r.isComplete))return r.isComplete(t,r);if("*"!==r.repeat){var i=!1,n=L(!0),o=R(n.l);if(void 0===n.def||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier){i=!0;for(var a=0;a<=o;a++){var s=g(a).match;if(null!==s.fn&&void 0===p().validPositions[a]&&!0!==s.optionality&&!0!==s.optionalQuantifier||null===s.fn&&t[a]!==D(a,s)){i=!1;break}}}return i}}function G(t){function i(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==m()||!0!==r.nullable?document.activeElement===this&&r.clearMaskOnLostFocus?(se?N(P().slice()).reverse():N(P().slice())).join(""):o.call(this):"":o.call(this)}function n(t){a.call(this,t),this.inputmask&&e(this).trigger("setvalue")}var o,a;if(!t.inputmask.__valueGet){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var s=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;s&&s.get&&s.set?(o=s.get,a=s.set,Object.defineProperty(t,"value",{get:i,set:n,configurable:!0})):"INPUT"!==t.tagName&&(o=function(){return this.textContent},a=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:i,set:n,configurable:!0}))}else document.__lookupGetter__&&t.__lookupGetter__("value")&&(o=t.__lookupGetter__("value"),a=t.__lookupSetter__("value"),t.__defineGetter__("value",i),t.__defineSetter__("value",n));t.inputmask.__valueGet=o,t.inputmask._valueGet=function(e){return se&&!0!==e?o.call(this.el).split("").reverse().join(""):o.call(this.el)},t.inputmask.__valueSet=a,t.inputmask._valueSet=function(e,t){a.call(this.el,null===e||void 0===e?"":!0!==t&&se?e.split("").reverse().join(""):e)},void 0===o&&(o=function(){return this.value},a=function(e){this.value=e},function(t){if(e.valHooks&&(void 0===e.valHooks[t]||!0!==e.valHooks[t].inputmaskpatch)){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},n=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=i(e);return-1!==m(void 0,void 0,e.inputmask.maskset.validPositions)||!0!==r.nullable?t:""}return i(e)},set:function(t,i){var o,a=e(t);return o=n(t,i),t.inputmask&&a.trigger("setvalue"),o},inputmaskpatch:!0}}}(t.type),function(t){pe.on(t,"mouseenter",function(t){var i=e(this);this.inputmask._valueGet()!==P().join("")&&i.trigger("setvalue")})}(t))}}function V(i,n,o,a){if((r.numericInput||se)&&(n===t.keyCode.BACKSPACE?n=t.keyCode.DELETE:n===t.keyCode.DELETE&&(n=t.keyCode.BACKSPACE),se)){var s=o.end;o.end=o.begin,o.begin=s}n===t.keyCode.BACKSPACE&&(o.end-o.begin<1||!1===r.insertMode)?(o.begin=R(o.begin),void 0===p().validPositions[o.begin]||p().validPositions[o.begin].input!==r.groupSeparator&&p().validPositions[o.begin].input!==r.radixPoint||o.begin--):n===t.keyCode.DELETE&&o.begin===o.end&&(o.end=w(o.end)?o.end+1:O(o.end)+1,void 0===p().validPositions[o.begin]||p().validPositions[o.begin].input!==r.groupSeparator&&p().validPositions[o.begin].input!==r.radixPoint||o.end++),v(o.begin,o.end,!1,a),!0!==a&&function(){if(r.keepStatic){f(!0);var t,n=[],o=e.extend(!0,{},p().validPositions);for(t=m();t>=0;t--){var a=p().validPositions[t];if(a&&(null!=a.match.fn&&n.push(a.input),delete p().validPositions[t],void 0!==a.alternation&&a.locator[a.alternation]===g(t).locator[a.alternation]))break}if(t>-1)for(;n.length>0;){p().p=O(m());var s=new e.Event("keypress");s.which=n.pop().charCodeAt(0),U.call(i,s,!0,!1,!1,p().p)}else p().validPositions=e.extend(!0,{},o)}}();var l=m(o.begin);l<o.begin?(-1===l&&f(),p().p=O(l)):!0!==a&&(p().p=o.begin)}function H(n){var o=this,a=e(o),s=n.keyCode,l=I(o);if(s===t.keyCode.BACKSPACE||s===t.keyCode.DELETE||d&&s===t.keyCode.BACKSPACE_SAFARI||n.ctrlKey&&s===t.keyCode.X&&!i("cut"))n.preventDefault(),V(o,s,l),F(o,P(),p().p,n,ie!==P().join("")),o.inputmask._valueGet()===_().join("")?a.trigger("cleared"):!0===B(P())&&a.trigger("complete"),r.showTooltip&&(o.title=r.tooltip||p().mask);else if(s===t.keyCode.END||s===t.keyCode.PAGE_DOWN){n.preventDefault();var c=O(m());r.insertMode||c!==p().maskLength||n.shiftKey||c--,I(o,n.shiftKey?l.begin:c,c,!0)}else s===t.keyCode.HOME&&!n.shiftKey||s===t.keyCode.PAGE_UP?(n.preventDefault(),I(o,0,n.shiftKey?l.begin:0,!0)):(r.undoOnEscape&&s===t.keyCode.ESCAPE||90===s&&n.ctrlKey)&&!0!==n.altKey?(j(o,!0,!1,ie.split("")),a.trigger("click")):s!==t.keyCode.INSERT||n.shiftKey||n.ctrlKey?!0===r.tabThrough&&s===t.keyCode.TAB?(!0===n.shiftKey?(null===k(l.begin).fn&&(l.begin=O(l.begin)),l.end=R(l.begin,!0),l.begin=R(l.end,!0)):(l.begin=O(l.begin,!0),l.end=O(l.begin,!0),l.end<p().maskLength&&l.end--),l.begin<p().maskLength&&(n.preventDefault(),I(o,l.begin,l.end))):!1!==r.insertMode||n.shiftKey||(s===t.keyCode.RIGHT?setTimeout(function(){var e=I(o);I(o,e.begin)},0):s===t.keyCode.LEFT&&setTimeout(function(){var e=I(o);I(o,se?e.begin+1:e.begin-1)},0)):(r.insertMode=!r.insertMode,I(o,r.insertMode||l.begin!==p().maskLength?l.begin:l.begin-1));r.onKeyDown.call(this,n,P(),I(o).begin,r),ue=-1!==e.inArray(s,r.ignorables)}function U(i,n,o,a,s){var l=this,c=e(l),u=i.which||i.charCode||i.keyCode;if(!(!0===n||i.ctrlKey&&i.altKey)&&(i.ctrlKey||i.metaKey||ue))return u===t.keyCode.ENTER&&ie!==P().join("")&&(ie=P().join(""),setTimeout(function(){c.trigger("change")},0)),!0;if(u){46===u&&!1===i.shiftKey&&","===r.radixPoint&&(u=44);var d,m=n?{begin:s,end:s}:I(l),h=String.fromCharCode(u);p().writeOutBuffer=!0;var v=A(m,h,a);if(!1!==v){var g=v.pos;if(f(!0),void 0!==v.caret)d=v.caret;else{var k=p().validPositions;d=!r.keepStatic&&(void 0!==k[g+1]&&x(g+1,k[g].locator.slice(),g).length>1||void 0!==k[g].alternation)?g+1:O(g)}p().p=d}if(!1!==o){var b=this;if(setTimeout(function(){r.onKeyValidation.call(b,u,v,r)},0),p().writeOutBuffer&&!1!==v){var y=P();F(l,y,r.numericInput&&void 0===v.caret?R(d):d,i,!0!==n),!0!==n&&setTimeout(function(){!0===B(y)&&c.trigger("complete")},0)}}if(r.showTooltip&&(l.title=r.tooltip||p().mask),i.preventDefault(),n)return v.forwardPosition=d,v}}function K(t){var i,n=this,o=t.originalEvent||t,a=e(n),s=n.inputmask._valueGet(!0),l=I(n);se&&(i=l.end,l.end=l.begin,l.begin=i);var c=s.substr(0,l.begin),u=s.substr(l.end,s.length);c===(se?_().reverse():_()).slice(0,l.begin).join("")&&(c=""),u===(se?_().reverse():_()).slice(l.end).join("")&&(u=""),se&&(i=c,c=u,u=i),window.clipboardData&&window.clipboardData.getData?s=c+window.clipboardData.getData("Text")+u:o.clipboardData&&o.clipboardData.getData&&(s=c+o.clipboardData.getData("text/plain")+u);var d=s;if(e.isFunction(r.onBeforePaste)){if(!1===(d=r.onBeforePaste(s,r)))return t.preventDefault();d||(d=s)}return j(n,!1,!1,se?d.split("").reverse():d.toString().split("")),F(n,P(),O(m()),t,!0),!0===B(P())&&a.trigger("complete"),t.preventDefault()}function q(i){var n=this,o=n.inputmask._valueGet();if(P().join("")!==o){var a=I(n);if(o=o.replace(new RegExp("("+t.escapeRegex(_().join(""))+")*"),""),u){var r=o.replace(P().join(""),"");if(1===r.length){var s=new e.Event("keypress");return s.which=r.charCodeAt(0),U.call(n,s,!0,!0,!1,p().validPositions[a.begin-1]?a.begin:a.begin-1),!1}}if(a.begin>o.length&&(I(n,o.length),a=I(n)),P().length-o.length!=1||o.charAt(a.begin)===P()[a.begin]||o.charAt(a.begin+1)===P()[a.begin]||w(a.begin)){for(var l=m()+1,c=P().slice(l).join("");null===o.match(t.escapeRegex(c)+"$");)c=c.slice(1);o=o.replace(c,""),o=o.split(""),j(n,!0,!1,o),!0===B(P())&&e(n).trigger("complete")}else i.keyCode=t.keyCode.BACKSPACE,
H.call(n,i);i.preventDefault()}}function W(t){var i=this,n=i.inputmask._valueGet();j(i,!0,!1,(e.isFunction(r.onBeforeMask)?r.onBeforeMask(n,r)||n:n).split("")),ie=P().join(""),(r.clearMaskOnLostFocus||r.clearIncomplete)&&i.inputmask._valueGet()===_().join("")&&i.inputmask._valueSet("")}function Q(e){var t=this,i=t.inputmask._valueGet();r.showMaskOnFocus&&(!r.showMaskOnHover||r.showMaskOnHover&&""===i)?t.inputmask._valueGet()!==P().join("")&&F(t,P(),O(m())):!1===de&&I(t,O(m())),!0===r.positionCaretOnTab&&setTimeout(function(){I(t,O(m()))},0),ie=P().join("")}function $(e){var t=this;if(de=!1,r.clearMaskOnLostFocus&&document.activeElement!==t){var i=P().slice(),n=t.inputmask._valueGet();n!==t.getAttribute("placeholder")&&""!==n&&(-1===m()&&n===_().join("")?i=[]:N(i),F(t,i))}}function z(t){function i(t){if(r.radixFocus&&""!==r.radixPoint){var i=p().validPositions;if(void 0===i[t]||i[t].input===D(t)){if(t<O(-1))return!0;var n=e.inArray(r.radixPoint,P());if(-1!==n){for(var o in i)if(n<o&&i[o].input!==D(o))return!1;return!0}}}return!1}var n=this;setTimeout(function(){if(document.activeElement===n){var t=I(n);if(t.begin===t.end)if(i(t.begin))I(n,r.numericInput?O(e.inArray(r.radixPoint,P())):e.inArray(r.radixPoint,P()));else{var o=t.begin,a=m(o,!0),s=O(a);if(o<s)I(n,w(o)||w(o-1)?o:O(o));else{var l=D(s);(""!==l&&P()[s]!==l||!w(s,!0)&&k(s).def===l)&&(s=O(s)),I(n,s)}}}},0)}function Z(e){var t=this;setTimeout(function(){I(t,0,O(m()))},0)}function X(i){var n=this,o=e(n),a=I(n),s=i.originalEvent||i,l=window.clipboardData||s.clipboardData,c=se?P().slice(a.end,a.begin):P().slice(a.begin,a.end);l.setData("text",se?c.reverse().join(""):c.join("")),document.execCommand&&document.execCommand("copy"),V(n,t.keyCode.DELETE,a),F(n,P(),p().p,i,ie!==P().join("")),n.inputmask._valueGet()===_().join("")&&o.trigger("cleared"),r.showTooltip&&(n.title=r.tooltip||p().mask)}function J(t){var i=e(this),n=this;if(n.inputmask){var o=n.inputmask._valueGet(),a=P().slice();ie!==a.join("")&&setTimeout(function(){i.trigger("change"),ie=a.join("")},0),""!==o&&(r.clearMaskOnLostFocus&&(-1===m()&&o===_().join("")?a=[]:N(a)),!1===B(a)&&(setTimeout(function(){i.trigger("incomplete")},0),r.clearIncomplete&&(f(),a=r.clearMaskOnLostFocus?[]:_().slice())),F(n,a,void 0,t))}}function Y(e){var t=this;de=!0,document.activeElement!==t&&r.showMaskOnHover&&t.inputmask._valueGet()!==P().join("")&&F(t,P())}function ee(e){ie!==P().join("")&&oe.trigger("change"),r.clearMaskOnLostFocus&&-1===m()&&ne.inputmask._valueGet&&ne.inputmask._valueGet()===_().join("")&&ne.inputmask._valueSet(""),r.removeMaskOnSubmit&&(ne.inputmask._valueSet(ne.inputmask.unmaskedvalue(),!0),setTimeout(function(){F(ne,P())},0))}function te(e){setTimeout(function(){oe.trigger("setvalue")},0)}var ie,ne,oe,ae,re,se=!1,le=!1,ce=!1,ue=!1,de=!0,pe={on:function(i,n,o){var a=function(i){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var n=e.data(this,"_inputmask_opts");n?new t(n).mask(this):pe.off(this)}else{if("setvalue"===i.type||!(this.disabled||this.readOnly&&!("keydown"===i.type&&i.ctrlKey&&67===i.keyCode||!1===r.tabThrough&&i.keyCode===t.keyCode.TAB))){switch(i.type){case"input":if(!0===ce)return ce=!1,i.preventDefault();break;case"keydown":le=!1,ce=!1;break;case"keypress":if(!0===le)return i.preventDefault();le=!0;break;case"click":if(u){var a=this;return setTimeout(function(){o.apply(a,arguments)},0),!1}}var s=o.apply(this,arguments);return!1===s&&(i.preventDefault(),i.stopPropagation()),s}i.preventDefault()}};i.inputmask.events[n]=i.inputmask.events[n]||[],i.inputmask.events[n].push(a),-1!==e.inArray(n,["submit","reset"])?null!=i.form&&e(i.form).on(n,a):e(i).on(n,a)},off:function(t,i){if(t.inputmask&&t.inputmask.events){var n;i?(n=[],n[i]=t.inputmask.events[i]):n=t.inputmask.events,e.each(n,function(i,n){for(;n.length>0;){var o=n.pop();-1!==e.inArray(i,["submit","reset"])?null!=t.form&&e(t.form).off(i,o):e(t).off(i,o)}delete t.inputmask.events[i]})}}};if(void 0!==o)switch(o.action){case"isComplete":return ne=o.el,B(P());case"unmaskedvalue":return ne=o.el,void 0!==ne&&void 0!==ne.inputmask?(a=ne.inputmask.maskset,r=ne.inputmask.opts,se=ne.inputmask.isRTL):(re=o.value,r.numericInput&&(se=!0),re=(e.isFunction(r.onBeforeMask)?r.onBeforeMask(re,r)||re:re).split(""),j(void 0,!1,!1,se?re.reverse():re),e.isFunction(r.onBeforeWrite)&&r.onBeforeWrite(void 0,P(),0,r)),T(ne);case"mask":ne=o.el,a=ne.inputmask.maskset,r=ne.inputmask.opts,se=ne.inputmask.isRTL,ie=P().join(""),function(t){if(ne=t,oe=e(ne),r.showTooltip&&(ne.title=r.tooltip||p().mask),("rtl"===ne.dir||r.rightAlign)&&(ne.style.textAlign="right"),("rtl"===ne.dir||r.numericInput)&&(ne.dir="ltr",ne.removeAttribute("dir"),ne.inputmask.isRTL=!0,se=!0),pe.off(ne),G(ne),n(ne,r)&&(pe.on(ne,"submit",ee),pe.on(ne,"reset",te),pe.on(ne,"mouseenter",Y),pe.on(ne,"blur",J),pe.on(ne,"focus",Q),pe.on(ne,"mouseleave",$),pe.on(ne,"click",z),pe.on(ne,"dblclick",Z),pe.on(ne,"paste",K),pe.on(ne,"dragdrop",K),pe.on(ne,"drop",K),pe.on(ne,"cut",X),pe.on(ne,"complete",r.oncomplete),pe.on(ne,"incomplete",r.onincomplete),pe.on(ne,"cleared",r.oncleared),!0!==r.inputEventOnly&&(pe.on(ne,"keydown",H),pe.on(ne,"keypress",U)),pe.on(ne,"input",q)),pe.on(ne,"setvalue",W),""!==ne.inputmask._valueGet()||!1===r.clearMaskOnLostFocus||document.activeElement===ne){var i=e.isFunction(r.onBeforeMask)?r.onBeforeMask(ne.inputmask._valueGet(),r)||ne.inputmask._valueGet():ne.inputmask._valueGet();j(ne,!0,!1,i.split(""));var o=P().slice();ie=o.join(""),!1===B(o)&&r.clearIncomplete&&f(),r.clearMaskOnLostFocus&&document.activeElement!==ne&&(-1===m()?o=[]:N(o)),F(ne,o),document.activeElement===ne&&I(ne,O(m()))}}(ne);break;case"format":return r.numericInput&&(se=!0),re=(e.isFunction(r.onBeforeMask)?r.onBeforeMask(o.value,r)||o.value:o.value).split(""),j(void 0,!1,!1,se?re.reverse():re),e.isFunction(r.onBeforeWrite)&&r.onBeforeWrite(void 0,P(),0,r),o.metadata?{value:se?P().slice().reverse().join(""):P().join(""),metadata:s({action:"getmetadata"},a,r)}:se?P().slice().reverse().join(""):P().join("");case"isValid":r.numericInput&&(se=!0),o.value?(re=o.value.split(""),j(void 0,!1,!0,se?re.reverse():re)):o.value=P().join("");for(var fe=P(),me=L(),he=fe.length-1;he>me&&!w(he);he--);return fe.splice(me,he+1-me),B(fe)&&o.value===P().join("");case"getemptymask":return _().join("");case"remove":ne=o.el,oe=e(ne),a=ne.inputmask.maskset,r=ne.inputmask.opts,ne.inputmask._valueSet(T(ne)),pe.off(ne);Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ne),"value")&&ne.inputmask.__valueGet&&Object.defineProperty(ne,"value",{get:ne.inputmask.__valueGet,set:ne.inputmask.__valueSet,configurable:!0}):document.__lookupGetter__&&ne.__lookupGetter__("value")&&ne.inputmask.__valueGet&&(ne.__defineGetter__("value",ne.inputmask.__valueGet),ne.__defineSetter__("value",ne.inputmask.__valueSet)),ne.inputmask=void 0;break;case"getmetadata":if(e.isArray(a.metadata)){for(var ve,ge=m(void 0,!0),ke=ge;ke>=0;ke--)if(p().validPositions[ke]&&void 0!==p().validPositions[ke].alternation){ve=p().validPositions[ke].alternation;break}return void 0!==ve?a.metadata[p().validPositions[ke].locator[ve]]:[]}return a.metadata}}t.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,i){return e.isFunction(i.onBeforeMask)?i.onBeforeMask(t,i):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:null,positionCaretOnTab:!1,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:e.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1},masksCache:{},mask:function(i){var n=this;return"string"==typeof i&&(i=document.getElementById(i)||document.querySelectorAll(i)),i=i.nodeName?[i]:i,e.each(i,function(i,o){var l=e.extend(!0,{},n.opts);a(o,l,e.extend(!0,{},n.userOptions));var c=r(l,n.noMasksCache);void 0!==c&&(void 0!==o.inputmask&&o.inputmask.remove(),o.inputmask=new t,o.inputmask.opts=l,o.inputmask.noMasksCache=n.noMasksCache,o.inputmask.userOptions=e.extend(!0,{},n.userOptions),o.inputmask.el=o,o.inputmask.maskset=c,o.inputmask.isRTL=!1,e.data(o,"_inputmask_opts",l),s({action:"mask",el:o}))}),i&&i[0]?i[0].inputmask||this:this},option:function(t,i){return"string"==typeof t?this.opts[t]:"object"==typeof t?(e.extend(this.userOptions,t),this.el&&!0!==i&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return s({action:"unmaskedvalue",el:this.el,value:e},this.el&&this.el.inputmask?this.el.inputmask.maskset:r(this.opts,this.noMasksCache),this.opts)},remove:function(){if(this.el)return s({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el},getemptymask:function(){return s({action:"getemptymask"},this.maskset||r(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return s({action:"isComplete",el:this.el},this.maskset||r(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return s({action:"getmetadata"},this.maskset||r(this.opts,this.noMasksCache),this.opts)},isValid:function(e){return s({action:"isValid",value:e},this.maskset||r(this.opts,this.noMasksCache),this.opts)},format:function(e,t){return s({action:"format",value:e,metadata:t},this.maskset||r(this.opts,this.noMasksCache),this.opts)}},t.extendDefaults=function(i){e.extend(!0,t.prototype.defaults,i)},t.extendDefinitions=function(i){e.extend(!0,t.prototype.defaults.definitions,i)},t.extendAliases=function(i){e.extend(!0,t.prototype.defaults.aliases,i)},t.format=function(e,i,n){return t(i).format(e,n)},t.unmask=function(e,i){return t(i).unmaskedvalue(e)},t.isValid=function(e,i){return t(i).isValid(e)},t.remove=function(t){e.each(t,function(e,t){t.inputmask&&t.inputmask.remove()})},t.escapeRegex=function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},t.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88};var l=navigator.userAgent,c=/mobile/i.test(l),u=/iemobile/i.test(l),d=/iphone/i.test(l)&&!u;return window.Inputmask=t,t}),function(e){"function"==typeof define&&define.amd?define("leave-absences/crm/vendor/inputmask/inputmask.numeric.extensions.min",["inputmask.dependencyLib","inputmask"],e):"object"==typeof exports?module.exports=e(require("./inputmask.dependencyLib.jquery"),require("./inputmask")):e(window.dependencyLib||jQuery,window.Inputmask)}(function(e,t){return t.extendAliases({numeric:{mask:function(e){function i(t){for(var i="",n=0;n<t.length;n++)e.definitions[t.charAt(n)]||e.optionalmarker.start===t.charAt(n)||e.optionalmarker.end===t.charAt(n)||e.quantifiermarker.start===t.charAt(n)||e.quantifiermarker.end===t.charAt(n)||e.groupmarker.start===t.charAt(n)||e.groupmarker.end===t.charAt(n)||e.alternatormarker===t.charAt(n)?i+="\\"+t.charAt(n):i+=t.charAt(n);return i}if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator===e.radixPoint&&("."===e.radixPoint?e.groupSeparator=",":","===e.radixPoint?e.groupSeparator=".":e.groupSeparator="")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!==e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var n=Math.floor(e.integerDigits/e.groupSize),o=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0===o?n-1:n),e.integerDigits<1&&(e.integerDigits="*")}e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),e.radixFocus=e.radixFocus&&""!==e.placeholder&&!0===e.integerOptional,e.definitions[";"]=e.definitions["~"],e.definitions[";"].definitionSymbol="~",!0===e.numericInput&&(e.radixFocus=!1,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e.decimalProtect=!1);var a=i(e.prefix);return a+="[+]",!0===e.integerOptional?a+="~{1,"+e.integerDigits+"}":a+="~{"+e.integerDigits+"}",void 0!==e.digits&&(isNaN(e.digits)||parseInt(e.digits)>0)&&(e.decimalProtect&&(e.radixPointDefinitionSymbol=":"),e.digitsOptional?a+="["+(e.decimalProtect?":":e.radixPoint)+";{1,"+e.digits+"}]":a+=(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}"),a+="[-]",a+=i(e.suffix),e.greedy=!1,null!==e.min&&(e.min=e.min.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.min=e.min.replace(e.radixPoint,"."))),null!==e.max&&(e.max=e.max.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.max=e.max.replace(e.radixPoint,"."))),a},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",radixFocus:!0,groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,postFormat:function(i,n,o){!0===o.numericInput&&(i=i.reverse(),isFinite(n)&&(n=i.join("").length-n-1));var a,r,s=!1;i.length>=o.suffix.length&&i.join("").indexOf(o.suffix)===i.length-o.suffix.length&&(i.length=i.length-o.suffix.length,s=!0),n=n>=i.length?i.length-1:n<o.prefix.length?o.prefix.length:n;var l=!1,c=i[n],u=i.slice();c===o.groupSeparator&&(u.splice(n--,1),c=u[n]),c!==o.radixPoint&&c!==o.negationSymbol.front&&c!==o.negationSymbol.back&&(u[n]="?");var d=u.join(""),p=d;if(d.length>0&&o.autoGroup||-1!==d.indexOf(o.groupSeparator)){var f=t.escapeRegex(o.groupSeparator);l=0===d.indexOf(o.groupSeparator),d=d.replace(new RegExp(f,"g"),"");var m=d.split(o.radixPoint);if((d=""===o.radixPoint?d:m[0])!==o.prefix+"?0"&&d.length>=o.groupSize+o.prefix.length)for(var h=new RegExp("([-+]?[\\d?]+)([\\d?]{"+o.groupSize+"})");h.test(d)&&""!==o.groupSeparator;)d=d.replace(h,"$1"+o.groupSeparator+"$2"),d=d.replace(o.groupSeparator+o.groupSeparator,o.groupSeparator);""!==o.radixPoint&&m.length>1&&(d+=o.radixPoint+m[1])}for(l=p!==d,i.length=d.length,a=0,r=d.length;a<r;a++)i[a]=d.charAt(a);var v=e.inArray("?",i);if(-1===v&&(v=e.inArray(c,i)),i[v]=c,!l&&s)for(a=0,r=o.suffix.length;a<r;a++)i.push(o.suffix.charAt(a));return v=o.numericInput&&isFinite(n)?i.join("").length-v-1:v,o.numericInput&&(i=i.reverse(),e.inArray(o.radixPoint,i)<v&&i.join("").length-o.suffix.length!==v&&(v-=1)),{pos:v,refreshFromBuffer:l,buffer:i}},onBeforeWrite:function(i,n,o,a){var r;if(i&&("blur"===i.type||"checkval"===i.type||"keydown"===i.type)){var s=a.numericInput?n.slice().reverse().join(""):n.join(""),l=s.replace(a.prefix,"");l=l.replace(a.suffix,""),l=l.replace(new RegExp(t.escapeRegex(a.groupSeparator),"g"),""),","===a.radixPoint&&(l=l.replace(a.radixPoint,"."));var c=l.match(new RegExp("[-"+t.escapeRegex(a.negationSymbol.front)+"]","g"));if(c=null!==c&&1===c.length,l=l.replace(new RegExp("[-"+t.escapeRegex(a.negationSymbol.front)+"]","g"),""),l=l.replace(new RegExp(t.escapeRegex(a.negationSymbol.back)+"$"),""),isNaN(a.placeholder)&&(l=l.replace(new RegExp(t.escapeRegex(a.placeholder),"g"),"")),""!==(l=l===a.negationSymbol.front?l+"0":l)&&isFinite(l)){var u=parseFloat(l),d=c?-1*u:u;if(null!==a.min&&isFinite(a.min)&&d<parseFloat(a.min)?(u=Math.abs(a.min),c=a.min<0,s=void 0):null!==a.max&&isFinite(a.max)&&d>parseFloat(a.max)&&(u=Math.abs(a.max),c=a.max<0,s=void 0),l=u.toString().replace(".",a.radixPoint).split(""),isFinite(a.digits)){var p=e.inArray(a.radixPoint,l),f=e.inArray(a.radixPoint,s);-1===p&&(l.push(a.radixPoint),p=l.length-1);for(var m=1;m<=a.digits;m++)a.digitsOptional||void 0!==l[p+m]&&l[p+m]!==a.placeholder.charAt(0)?-1!==f&&void 0!==s[f+m]&&(l[p+m]=l[p+m]||s[f+m]):l[p+m]="0";l[l.length-1]===a.radixPoint&&delete l[l.length-1]}if(u.toString()!==l&&u.toString()+"."!==l||c)return!c||0===u&&"blur"===i.type||(l.unshift(a.negationSymbol.front),l.push(a.negationSymbol.back)),l=(a.prefix+l.join("")).split(""),a.numericInput&&(l=l.reverse()),r=a.postFormat(l,a.numericInput?o:o-1,a),r.buffer&&(r.refreshFromBuffer=r.buffer.join("")!==n.join("")),r}}if(a.autoGroup)return r=a.postFormat(n,a.numericInput?o:o-1,a),r.caret=o<=a.prefix.length?r.pos:r.pos+1,r},regex:{integerPart:function(e){return new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?\\d+")},integerNPart:function(e){return new RegExp("[\\d"+t.escapeRegex(e.groupSeparator)+t.escapeRegex(e.placeholder.charAt(0))+"]+")}},signHandler:function(e,t,i,n,o){if(!n&&o.allowMinus&&"-"===e||o.allowPlus&&"+"===e){var a=t.buffer.join("").match(o.regex.integerPart(o));if(a&&a[0].length>0)return t.buffer[a.index]===("-"===e?"+":o.negationSymbol.front)?"-"===e?""!==o.negationSymbol.back?{pos:a.index,c:o.negationSymbol.front,remove:a.index,caret:i,insert:{pos:t.buffer.length-o.suffix.length-1,c:o.negationSymbol.back}}:{pos:a.index,c:o.negationSymbol.front,remove:a.index,caret:i}:""!==o.negationSymbol.back?{pos:a.index,c:"+",remove:[a.index,t.buffer.length-o.suffix.length-1],caret:i}:{pos:a.index,c:"+",remove:a.index,caret:i}:t.buffer[a.index]===("-"===e?o.negationSymbol.front:"+")?"-"===e&&""!==o.negationSymbol.back?{remove:[a.index,t.buffer.length-o.suffix.length-1],caret:i-1}:{remove:a.index,caret:i-1}:"-"===e?""!==o.negationSymbol.back?{pos:a.index,c:o.negationSymbol.front,caret:i+1,insert:{pos:t.buffer.length-o.suffix.length,c:o.negationSymbol.back}}:{pos:a.index,c:o.negationSymbol.front,caret:i+1}:{pos:a.index,c:e,caret:i+1}}return!1},radixHandler:function(t,i,n,o,a){if(!o&&!0!==a.numericInput&&t===a.radixPoint&&void 0!==a.digits&&(isNaN(a.digits)||parseInt(a.digits)>0)){var r=e.inArray(a.radixPoint,i.buffer),s=i.buffer.join("").match(a.regex.integerPart(a));if(-1!==r&&i.validPositions[r])return i.validPositions[r-1]?{caret:r+1}:{pos:s.index,c:s[0],caret:r+1};if(!s||"0"===s[0]&&s.index+1!==n)return i.buffer[s?s.index:n]="0",{pos:(s?s.index:n)+1,c:a.radixPoint}}return!1},leadingZeroHandler:function(t,i,n,o,a,r){if(!o)if(!0===a.numericInput){var s=i.buffer.slice("").reverse(),l=s[a.prefix.length];if("0"===l&&void 0===i.validPositions[n-1])return{pos:n,remove:s.length-a.prefix.length-1}}else{var c=e.inArray(a.radixPoint,i.buffer),u=i.buffer.slice(0,-1!==c?c:void 0).join("").match(a.regex.integerNPart(a));if(u&&(-1===c||n<=c)){var d=-1===c?0:parseInt(i.buffer.slice(c+1).join(""));if(0===u[0].indexOf(""!==a.placeholder?a.placeholder.charAt(0):"0")&&(u.index+1===n||!0!==r&&0===d))return i.buffer.splice(u.index,1),{pos:u.index,remove:u.index};if("0"===t&&n<=u.index&&u[0]!==a.groupSeparator)return!1}}return!0},definitions:{"~":{validator:function(i,n,o,a,r,s){var l=r.signHandler(i,n,o,a,r);if(!l&&!(l=r.radixHandler(i,n,o,a,r))&&!0===(l=a?new RegExp("[0-9"+t.escapeRegex(r.groupSeparator)+"]").test(i):new RegExp("[0-9]").test(i))&&!0===(l=r.leadingZeroHandler(i,n,o,a,r,s))){var c=e.inArray(r.radixPoint,n.buffer);l=-1!==c&&(!1===r.digitsOptional||n.validPositions[o])&&!0!==r.numericInput&&o>c&&!a?{pos:o,remove:o}:{pos:o}}return l},cardinality:1},"+":{validator:function(e,t,i,n,o){var a=o.signHandler(e,t,i,n,o);return!a&&(n&&o.allowMinus&&e===o.negationSymbol.front||o.allowMinus&&"-"===e||o.allowPlus&&"+"===e)&&(a=!(!n&&"-"===e)||(""!==o.negationSymbol.back?{pos:i,c:"-"===e?o.negationSymbol.front:"+",caret:i+1,insert:{pos:t.buffer.length,c:o.negationSymbol.back}}:{pos:i,c:"-"===e?o.negationSymbol.front:"+",caret:i+1})),a},cardinality:1,placeholder:""},"-":{validator:function(e,t,i,n,o){var a=o.signHandler(e,t,i,n,o);return!a&&n&&o.allowMinus&&e===o.negationSymbol.back&&(a=!0),a},cardinality:1,placeholder:""},":":{validator:function(e,i,n,o,a){var r=a.signHandler(e,i,n,o,a);if(!r){var s="["+t.escapeRegex(a.radixPoint)+"]";r=new RegExp(s).test(e),r&&i.validPositions[n]&&i.validPositions[n].match.placeholder===a.radixPoint&&(r={caret:n+1})}return r?{c:a.radixPoint}:r},cardinality:1,placeholder:function(e){return e.radixPoint}}},onUnMask:function(e,i,n){var o=e.replace(n.prefix,"");return o=o.replace(n.suffix,""),o=o.replace(new RegExp(t.escapeRegex(n.groupSeparator),"g"),""),n.unmaskAsNumber?(""!==n.radixPoint&&-1!==o.indexOf(n.radixPoint)&&(o=o.replace(t.escapeRegex.call(this,n.radixPoint),".")),Number(o)):o},isComplete:function(e,i){var n=e.join(""),o=e.slice();if(i.postFormat(o,0,i),o.join("")!==n)return!1;var a=n.replace(i.prefix,"");return a=a.replace(i.suffix,""),a=a.replace(new RegExp(t.escapeRegex(i.groupSeparator),"g"),""),","===i.radixPoint&&(a=a.replace(t.escapeRegex(i.radixPoint),".")),isFinite(a)},onBeforeMask:function(e,i){if(""!==i.radixPoint&&isFinite(e))e=e.toString().replace(".",i.radixPoint);else{var n=e.match(/,/g),o=e.match(/\./g);o&&n?o.length>n.length?(e=e.replace(/\./g,""),e=e.replace(",",i.radixPoint)):n.length>o.length?(e=e.replace(/,/g,""),e=e.replace(".",i.radixPoint)):e=e.indexOf(".")<e.indexOf(",")?e.replace(/\./g,""):e=e.replace(/,/g,""):e=e.replace(new RegExp(t.escapeRegex(i.groupSeparator),"g"),"")}if(0===i.digits&&(-1!==e.indexOf(".")?e=e.substring(0,e.indexOf(".")):-1!==e.indexOf(",")&&(e=e.substring(0,e.indexOf(",")))),""!==i.radixPoint&&isFinite(i.digits)&&-1!==e.indexOf(i.radixPoint)){var a=e.split(i.radixPoint),r=a[1].match(new RegExp("\\d*"))[0];if(parseInt(i.digits)<r.toString().length){var s=Math.pow(10,parseInt(i.digits));e=e.replace(t.escapeRegex(i.radixPoint),"."),e=Math.round(parseFloat(e)*s)/s,e=e.toString().replace(".",i.radixPoint)}}return e.toString()},canClearPosition:function(e,t,i,n,o){var a=e.validPositions[t].input;return a!==o.radixPoint||null!==e.validPositions[t].match.fn&&!1===o.decimalProtect||isFinite(a)||t===i||a===o.groupSeparator||a===o.negationSymbol.front||a===o.negationSymbol.back},onKeyDown:function(i,n,o,a){var r=e(this);if(i.ctrlKey)switch(i.keyCode){case t.keyCode.UP:r.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(a.step)),r.trigger("setvalue");break;case t.keyCode.DOWN:r.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(a.step)),r.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowPlus:!1,allowMinus:!1}}),t}),define("leave-absences/crm/form-manage-entitlements",["leave-absences/crm/includes/hrleaveandabsences-init","leave-absences/crm/vendor/inputmask/inputmask.numeric.extensions.min"],function(e){e.Form.ManageEntitlements=function(t,i){function n(){this._filtersElement=t(".entitlement-calculation-filters"),this._listElement=t(".entitlement-calculation-list"),this._formElement=t(".CRM_HRLeaveAndAbsences_Form_ManageEntitlements"),this._overrideFilter=this.OVERRIDE_FILTER_BOTH,this._absenceTypeFilter=[],this._proposedEntitlements=[],this._setUpOverrideFilters(),this._instantiateProposedEntitlements(),this._instantiateComments(),this._addEventListeners()}return n.prototype.OVERRIDE_FILTER_OVERRIDDEN=1,n.prototype.OVERRIDE_FILTER_NON_OVERRIDDEN=2,n.prototype.OVERRIDE_FILTER_BOTH=3,n.prototype._setUpOverrideFilters=function(){this._filtersElement.find(".override-filters").buttonset()},n.prototype._instantiateProposedEntitlements=function(){var i=this;this._listElement.find(".proposed-entitlement").each(function(n,o){i._proposedEntitlements.push(new e.Form.ManageEntitlements.ProposedEntitlement(t(o)))})},n.prototype._instantiateComments=function(){this._listElement.find("td.comment").each(function(i,n){new e.Form.ManageEntitlements.Comment(t(n))})},n.prototype._addEventListeners=function(){this._filtersElement.find(".override-filter").on("change",this._onOverrideFilterChange.bind(this)),this._filtersElement.find(".absence-type-filter select").on("change",this._onAbsenceTypeFilterChange.bind(this)),this._filtersElement.find(".export-csv-action").on("click",this._onExportCSVClick.bind(this)),this._listElement.find("thead .proposed-entitlement-header .add-one-day").on("click",this._onAddOneDayClick.bind(this)),this._listElement.find("thead .proposed-entitlement-header .copy-to-all").on("click",this._onCopyToAllClick.bind(this)),this._listElement.find("tbody tr td").on("click",this._onListRowClick.bind(this))},n.prototype._onOverrideFilterChange=function(e){var t=parseInt(e.target.value);t!==+this._overrideFilter&&(this._overrideFilter=t,this._updateList())},n.prototype._onAbsenceTypeFilterChange=function(e){this._absenceTypeFilter=t(e.target).val()||[],this._updateList()},n.prototype._updateList=function(){this._showAll(),this._filterEntitlementsByAbsenceType(),this._filterEntitlementsByOverride()},n.prototype._showAll=function(){this._listElement.find("tr").removeClass("hidden")},n.prototype._filterEntitlementsByAbsenceType=function(){if(this._absenceTypeFilter.length>0){var e=[];this._absenceTypeFilter.forEach(function(t){e.push("tr[data-absence-type='"+t+"']")}),this._listElement.find("tbody tr:not(.hidden)").not(e.join(",")).addClass("hidden")}},n.prototype._filterEntitlementsByOverride=function(){switch(this._overrideFilter){case this.OVERRIDE_FILTER_OVERRIDDEN:this._hideNonOverriddenEntitlements();break;case this.OVERRIDE_FILTER_NON_OVERRIDDEN:this._hideOverriddenEntitlements()}},n.prototype._hideNonOverriddenEntitlements=function(){this._listElement.find(".proposed-entitlement .override-checkbox:not(:checked)").parents("tr:not(.hidden)").addClass("hidden")},n.prototype._hideOverriddenEntitlements=function(){this._listElement.find(".proposed-entitlement .override-checkbox:checked").parents("tr").addClass("hidden")},n.prototype._onListRowClick=function(e){if(!t(e.currentTarget).hasClass("proposed-entitlement")&&!t(e.currentTarget).hasClass("comment")){var n={contact_id:e.currentTarget.parentNode.dataset.contact,type_id:e.currentTarget.parentNode.dataset.absenceType,period_id:e.currentTarget.parentNode.dataset.absencePeriod};CRM.confirm({title:i("Calculation details"),url:CRM.url("civicrm/admin/leaveandabsences/periods/manage_entitlements/calculation_details",n),width:"70%",options:{}})}},n.prototype._onExportCSVClick=function(e){e.preventDefault(),this._formElement.find("#export_csv").val(1),this._formElement.submit(),this._formElement.find("#export_csv").val("")},n.prototype._onAddOneDayClick=function(){this._proposedEntitlements.forEach(function(e){e.addOneDay()})},n.prototype._onCopyToAllClick=function(){var e=this._proposedEntitlements[0].getCurrentValue();this._proposedEntitlements.forEach(function(t){t.setValue(e)})},n}(CRM.$,ts),e.Form.ManageEntitlements.ProposedEntitlement=function(e,t){function i(e){this._overrideButton=e.find("button"),this._overrideCheckbox=e.find(".override-checkbox"),this._overrideField=e.find('input[type="text"]'),this._proposedValue=e.find(".proposed-value"),this._calculationUnit=e.find(".calculation-unit"),this._init()}return i.prototype._init=function(){this._overrideCheckbox.is(":checked")&&this._makeEntitlementEditable(),this._setupOverrideFieldMask(),this._addEventListeners()},i.prototype.setValue=function(e){this._isOverridden||this._makeEntitlementEditable(),this._overrideField.val(e)},i.prototype.addOneDay=function(){var e=this.getCurrentValue();this.setValue(e+1)},i.prototype.getCurrentValue=function(){var e;return e=this._isOverridden?this._overrideField.val():this._proposedValue.text(),e=parseFloat(e),isNaN(e)&&(e=0),e},i.prototype._setupOverrideFieldMask=function(){t({alias:"decimal",rightAlign:!1}).mask(this._overrideField)},i.prototype._addEventListeners=function(){this._overrideButton.on("click",this._onOverrideButtonClick.bind(this)),this._overrideCheckbox.on("click",this._onOverrideCheckboxClick.bind(this))},i.prototype._onOverrideButtonClick=function(){this._makeEntitlementEditable()},i.prototype._onOverrideCheckboxClick=function(e){e.target.checked?this._makeEntitlementEditable():this._displayProposedEntitlementValue()},i.prototype._makeEntitlementEditable=function(){this._overrideButton.hide(),this._proposedValue.hide(),this._overrideField.val()||this._overrideField.val(this._proposedValue.data("raw-value")),this._calculationUnit.show(),this._overrideField.show().focus(),this._overrideCheckbox.show().prop("checked",!0),this._isOverridden=!0},i.prototype._displayProposedEntitlementValue=function(){this._overrideButton.show(),this._proposedValue.show(),this._calculationUnit.hide(),this._overrideField.val("").hide(),this._overrideCheckbox.prop("checked",!1).hide(),this._isOverridden=!1},i}(CRM.$,Inputmask),e.Form.ManageEntitlements.Comment=function(t){function i(e){this._commentElement=e,this._addCommentButton=this._commentElement.find(".add-comment"),this._commentTextarea=this._commentElement.find(".comment-text"),this._addEventListeners()}return i.prototype._addEventListeners=function(){this._addCommentButton.on("click",this._onAddCommentClick.bind(this))},i.prototype._onAddCommentClick=function(){e.Form.ManageEntitlements.CommentDialog.show(this._getCurrentValue(),function(e){this._setCurrentValue(e)}.bind(this))},i.prototype._getCurrentValue=function(){return this._commentTextarea.val()},i.prototype._setCurrentValue=function(e){this._commentTextarea.val(e)},i}(CRM.$),e.Form.ManageEntitlements.CommentDialog=function(e){function t(){e(s).val("")}function i(){e(r).dialog("close")}function n(){return e(s).val()}function o(t){e(s).val(t)}function a(o){e("#add-comment-dialog").dialog({width:"500px",close:t,buttons:[{text:ts("Cancel"),click:i},{text:ts("Save"),click:function(){o(n()),i()}}]})}var r="#add-comment-dialog",s=r+" .calculation_comment";return{show:function(e,t){o(e),a(t)}}}(CRM.$),CRM.$(document).trigger("CRMManageEntitlementsFormScriptIsReady")}),function(e){e(["leave-absences/crm/form-manage-entitlements"])}(require),define("crm-form-manage-entitlements",function(){});
//# sourceMappingURL=/sites/all/modules/civicrm/tools/extensions/civihr/uk.co.compucorp.civicrm.hrleaveandabsences/js/dist/crm-form-manage-entitlements.js.map